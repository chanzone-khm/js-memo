<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>danfo_practice</title>

  <script src="https://cdn.plot.ly/plotly-1.2.0.min.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/danfojs@1.0.2/lib/bundle.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/danfojs@0.1.1/dist/index.min.js"></script>

</head>

<body>
  <div id="plot_div"></div>
  <script>

    //danfo is exposed on dfd namespace
    // s = new dfd.Series([1,2,3,4,5]) ;
    // s = new dfd.Series([1, 3, 5, undefined, 6, 8])

    // const tf = dfd.tensorflow; //get tensorflow lib from danfo
    // let tensor_arr = tf.tensor([12,34,56,2]);
    // let s = new dfd.Series(tensor_arr);

    // s.print()

    // json_data = [{ A: 0.4612, B: 4.28283, C: -1.509, D: -1.1352 },
    //         { A: 0.5112, B: -0.22863, C: -3.39059, D: 1.1632 },
    //         { A: 0.6911, B: -0.82863, C: -1.5059, D: 2.1352 },
    //         { A: 0.4692, B: -1.28863, C: 4.5059, D: 4.1632 }]
    // df = new dfd.DataFrame(json_data)

    // json_data = [{ A: 0.4612, B: 4.28283, C: -1.509, D: -1.1352 },
    //         { A: 0.5112, B: -0.22863, C: -3.39059, D: 1.1632 },
    //         { A: 0.6911, B: -0.82863, C: -1.5059, D: 2.1352 },
    //         { A: 0.4692, B: -1.28863, C: 4.5059, D: 4.1632 }]
    // df = new dfd.DataFrame(json_data);


    // dates = new dfd.dateRange({ start: '2017-01-01', end: "2020-01-01", period: 4, freq: "Y" })
    // console.log(dates);
    // obj_data = {'A': dates,
    //         'B': ["bval1", "bval2", "bval3", "bval4"],
    //         'C': [10, 20, 30, 40],
    //         'D': [1.2, 3.45, 60.1, 45],
    //         'E': ["test", "train", "test", "train"]
    //         }
    // df = new dfd.DataFrame(obj_data)
    // df.print()


    // const df = new dfd.DataFrame({
    //     'pig': [20, 18, 489, 675, 1776],
    //     'horse': [4, 25, 281, 600, 1900]
    //   }, { index: [1990, 1997, 2003, 2009, 2014] })

    //   df.plot("plot_div").line({
    //     config: {
    //       x: 'pig', y: 'horse'
    //     }
    // })


    // const s = new dfd.Series([20, 30, 40, 23, 40, 3, 50, 34, 67]);
    // console.log(s)
    //   s.plot("plot_div").box();


    dfd.read_csv("https://raw.githubusercontent.com/curran/data/gh-pages/jsLibraries/jsLibs.csv")
            .then(df => {

                var layout = {
                    title: 'JavaScript Libraries and Github Stars',
                    xaxis: {
                        title: 'Libraries',
                    },
                    yaxis: {
                        title: 'Stars',
                    }
                }

                new_df = df.set_index({key:"Library"})
                new_df.plot("plot_div").bar({columns:["Github Stars"],layout: layout })

            }).catch(err => {
                console.log(err);
            })
  </script>

</body>
</html>